---
// Author: Cascade (claude-sonnet-4-20250514)
// Date: 2026-02-23
// PURPOSE: Home page — "The Directed Graph" concept. DAG hero with SVG visualization,
//          anchor quote, LODA split-pane showcase, throughline section connecting all of
//          Simon's work. Terminal/IDE aesthetic throughout.
// SRP/DRY check: Pass — reuses Base layout, self-contained page logic
import Base from '../layouts/Base.astro';
---
<Base title="Home">

  <!-- ════════════════════════════════════════════════════════════════════
       HERO — The Anchor
       SVG DAG visualization + headline + Simon's unifying quote
       ════════════════════════════════════════════════════════════════════ -->
  <section class="relative min-h-[92vh] flex items-center justify-center overflow-hidden">
    <!-- SVG DAG background — static nodes + animated edges -->
    <svg class="absolute inset-0 w-full h-full pointer-events-none" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
      <defs>
        <!-- Edge glow filter -->
        <filter id="edge-glow">
          <feGaussianBlur stdDeviation="2" result="blur" />
          <feMerge>
            <feMergeNode in="blur" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
      </defs>

      <!-- Edges — drawn with CSS animation -->
      <g filter="url(#edge-glow)" opacity="0.15">
        <!-- Cluster 1: top-left -->
        <line x1="120" y1="140" x2="280" y2="200" stroke="#38bdf8" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" />
        <line x1="280" y1="200" x2="400" y2="160" stroke="#38bdf8" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.2s" />
        <line x1="280" y1="200" x2="350" y2="320" stroke="#4ade80" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.4s" />

        <!-- Cluster 2: center -->
        <line x1="500" y1="280" x2="650" y2="350" stroke="#4ade80" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.3s" />
        <line x1="650" y1="350" x2="780" y2="300" stroke="#38bdf8" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.5s" />
        <line x1="650" y1="350" x2="700" y2="480" stroke="#f97316" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.7s" />

        <!-- Cluster 3: right -->
        <line x1="850" y1="200" x2="980" y2="280" stroke="#f97316" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.6s" />
        <line x1="980" y1="280" x2="1080" y2="220" stroke="#38bdf8" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.8s" />

        <!-- Cluster 4: bottom -->
        <line x1="300" y1="520" x2="480" y2="580" stroke="#22d3ee" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.5s" />
        <line x1="480" y1="580" x2="620" y2="540" stroke="#4ade80" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 0.9s" />
        <line x1="620" y1="540" x2="800" y2="600" stroke="#f97316" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 1.1s" />
        <line x1="800" y1="600" x2="950" y2="550" stroke="#38bdf8" stroke-width="1"
              stroke-dasharray="1000" class="animate-draw-edge" style="animation-delay: 1.3s" />
      </g>

      <!-- Nodes — small circles at intersections -->
      <g opacity="0.2">
        <circle cx="120" cy="140" r="3" fill="#38bdf8" />
        <circle cx="280" cy="200" r="4" fill="#38bdf8" />
        <circle cx="400" cy="160" r="3" fill="#38bdf8" />
        <circle cx="350" cy="320" r="3" fill="#4ade80" />
        <circle cx="500" cy="280" r="3" fill="#4ade80" />
        <circle cx="650" cy="350" r="5" fill="#4ade80" />
        <circle cx="780" cy="300" r="3" fill="#38bdf8" />
        <circle cx="700" cy="480" r="3" fill="#f97316" />
        <circle cx="850" cy="200" r="3" fill="#f97316" />
        <circle cx="980" cy="280" r="4" fill="#f97316" />
        <circle cx="1080" cy="220" r="3" fill="#38bdf8" />
        <circle cx="300" cy="520" r="3" fill="#22d3ee" />
        <circle cx="480" cy="580" r="4" fill="#4ade80" />
        <circle cx="620" cy="540" r="3" fill="#4ade80" />
        <circle cx="800" cy="600" r="4" fill="#f97316" />
        <circle cx="950" cy="550" r="3" fill="#38bdf8" />
      </g>
    </svg>

    <!-- Hero content -->
    <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 text-center">
      <p class="font-mono text-xs text-edge-green uppercase tracking-[0.25em] mb-6">
        VoynichLabs // Directed Acyclic Graphs
      </p>
      <h1 class="text-3xl sm:text-5xl lg:text-6xl font-bold tracking-tight text-text-primary mb-8 leading-[1.1]">
        Generative computation<br/>from minimal rules.
      </h1>

      <!-- The Anchor Quote -->
      <blockquote class="max-w-2xl mx-auto mb-10 border-l-2 border-edge-green/40 pl-6 text-left">
        <p class="text-lg sm:text-xl text-text-muted font-light leading-relaxed italic">
          "Compute the output from minimal rules.<br/>
          <span class="text-text-primary font-normal not-italic">Don't enumerate. Don't store. Generate.</span>"
        </p>
        <cite class="block mt-3 text-xs font-mono text-text-muted not-italic">
          -- Simon Strandgaard, on the philosophy behind every project he has built
        </cite>
      </blockquote>

      <p class="text-sm text-text-muted max-w-xl mx-auto mb-10 leading-relaxed">
        From procedurally generating graphics to automatically discovering mathematical formulas,
        everything is a DAG of processing nodes. The domain changes. The architecture never does.
      </p>

      <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
        <a href="/simon"
           class="px-6 py-2.5 bg-bg-surface border border-node-blue/40 hover:border-node-blue text-node-blue font-mono text-sm rounded transition-colors duration-200">
          explore ./simon
        </a>
        <a href="/projects"
           class="px-6 py-2.5 bg-bg-surface border border-border hover:border-border-active text-text-muted hover:text-text-primary font-mono text-sm rounded transition-colors duration-200">
          ls ./projects
        </a>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════════════════
       LODA SHOWCASE — Real Assembly, Automated Discovery
       Split-pane: context left, terminal right
       ════════════════════════════════════════════════════════════════════ -->
  <section class="border-t border-border py-20 sm:py-28">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <!-- Section header -->
      <div class="mb-12">
        <p class="font-mono text-xs text-rust-orange uppercase tracking-[0.2em] mb-3">
          LODA // Automated Mathematical Discovery
        </p>
        <h2 class="text-2xl sm:text-3xl font-bold text-text-primary">
          Assembly-level precision. Machine-discovered formulas.
        </h2>
      </div>

      <!-- Split pane -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-0 border border-border rounded-lg overflow-hidden">

        <!-- Left pane: Context -->
        <div class="bg-bg-secondary p-6 sm:p-8 border-b lg:border-b-0 lg:border-r border-border">
          <p class="font-mono text-xs text-text-muted uppercase tracking-widest mb-4">Context</p>
          <h3 class="text-lg font-semibold text-text-primary mb-4">
            Narayana Numbers <span class="font-mono text-rust-orange text-sm">(A001263)</span>
          </h3>
          <p class="text-sm text-text-muted leading-relaxed mb-4">
            This program was <strong class="text-text-primary font-medium">automatically discovered</strong>
            by LODA's automated miner (<span class="font-mono text-edge-green text-xs">loader3229</span>)
            — not written by hand. It computes the Narayana triangle, a significant
            combinatorial sequence used in discrete mathematics.
          </p>
          <p class="text-sm text-text-muted leading-relaxed mb-6">
            The formula in the comments was <strong class="text-text-primary font-medium">derived automatically</strong>
            from the assembly execution. LODA verifies each term dynamically rather than
            looking it up in a database.
          </p>

          <!-- The Narayana triangle preview -->
          <div class="bg-bg-terminal border border-border rounded p-4 font-mono text-xs mb-6">
            <p class="text-text-muted mb-2">// Narayana triangle, rows 1-5:</p>
            <div class="text-edge-green space-y-0.5">
              <p>1</p>
              <p>1 &nbsp;1</p>
              <p>1 &nbsp;3 &nbsp;1</p>
              <p>1 &nbsp;6 &nbsp;6 &nbsp;1</p>
              <p>1 10 20 10 &nbsp;1</p>
            </div>
          </div>

          <!-- Formula -->
          <div class="text-xs font-mono text-text-muted">
            <span class="text-rust-orange">T(n,k)</span> = C(n-1,k-1) * C(n,k-1) / k
            <span class="text-text-muted/50 ml-2">// with 1 &le; k &le; n</span>
          </div>

          <a href="https://oeis.org/A001263" target="_blank" rel="noopener"
             class="inline-block mt-6 font-mono text-xs text-node-blue hover:text-text-primary transition-colors">
            oeis.org/A001263 -->
          </a>
        </div>

        <!-- Right pane: Terminal / Code -->
        <div class="bg-bg-terminal p-6 sm:p-8 relative">
          <!-- Terminal chrome -->
          <div class="flex items-center gap-4 mb-5">
            <div class="flex gap-1.5">
              <div class="w-2.5 h-2.5 rounded-full bg-red-500/60"></div>
              <div class="w-2.5 h-2.5 rounded-full bg-warn-amber/60"></div>
              <div class="w-2.5 h-2.5 rounded-full bg-edge-green/60"></div>
            </div>
            <span class="font-mono text-[10px] text-text-muted">loda-rust // A001263.asm</span>
          </div>

          <!-- The actual LODA program -->
          <pre class="font-mono text-xs leading-[1.8] overflow-x-auto"><code><span class="text-text-muted">; A001263: Triangle of Narayana numbers</span>
<span class="text-text-muted">; T(n,k) = C(n-1,k-1)*C(n,k-1)/k</span>
<span class="text-text-muted">; Submitted by loader3229</span>
<span class="text-text-muted">; 1,1,1,1,3,1,1,6,6,1,1,10,20,10,1...</span>

<span class="text-rust-orange">#offset</span> <span class="text-warn-amber">1</span>
<span class="text-node-blue">mov</span> <span class="text-edge-green">$1</span>,<span class="text-edge-green">$0</span>
<span class="text-node-blue">mul</span> <span class="text-edge-green">$1</span>,<span class="text-warn-amber">8</span>
<span class="text-node-blue">nrt</span> <span class="text-edge-green">$1</span>,<span class="text-warn-amber">2</span>         <span class="text-text-muted">; floor(sqrt(8n))</span>
<span class="text-node-blue">sub</span> <span class="text-edge-green">$1</span>,<span class="text-warn-amber">1</span>
<span class="text-node-blue">div</span> <span class="text-edge-green">$1</span>,<span class="text-warn-amber">2</span>         <span class="text-text-muted">; row index</span>
<span class="text-node-blue">mov</span> <span class="text-edge-green">$2</span>,<span class="text-edge-green">$1</span>
<span class="text-node-blue">add</span> <span class="text-edge-green">$2</span>,<span class="text-warn-amber">1</span>
<span class="text-node-blue">bin</span> <span class="text-edge-green">$2</span>,<span class="text-warn-amber">2</span>         <span class="text-text-muted">; C(row+1, 2)</span>
<span class="text-node-blue">sub</span> <span class="text-edge-green">$0</span>,<span class="text-edge-green">$2</span>
<span class="text-node-blue">sub</span> <span class="text-edge-green">$0</span>,<span class="text-warn-amber">1</span>         <span class="text-text-muted">; column index</span>
<span class="text-node-blue">mov</span> <span class="text-edge-green">$2</span>,<span class="text-edge-green">$1</span>
<span class="text-node-blue">add</span> <span class="text-edge-green">$2</span>,<span class="text-warn-amber">1</span>
<span class="text-node-blue">bin</span> <span class="text-edge-green">$2</span>,<span class="text-edge-green">$0</span>         <span class="text-text-muted">; C(row+1, k-1)</span>
<span class="text-node-blue">bin</span> <span class="text-edge-green">$1</span>,<span class="text-edge-green">$0</span>         <span class="text-text-muted">; C(row, k-1)</span>
<span class="text-node-blue">add</span> <span class="text-edge-green">$0</span>,<span class="text-warn-amber">1</span>         <span class="text-text-muted">; k</span>
<span class="text-node-blue">mul</span> <span class="text-edge-green">$1</span>,<span class="text-edge-green">$2</span>
<span class="text-node-blue">div</span> <span class="text-edge-green">$1</span>,<span class="text-edge-green">$0</span>         <span class="text-text-muted">; Narayana formula</span>
<span class="text-node-blue">mov</span> <span class="text-edge-green">$0</span>,<span class="text-edge-green">$1</span>         <span class="text-text-muted">; output</span></code></pre>
        </div>
      </div>

      <!-- Caption below the split pane -->
      <div class="mt-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <p class="text-xs text-text-muted max-w-lg">
          17 lines of register operations. No loops, no recursion. LODA's evolutionary miner
          synthesized this from the OEIS definition. Simon built the Rust runtime that makes it possible.
        </p>
        <a href="https://github.com/loda-lang/loda-rust" target="_blank" rel="noopener"
           class="font-mono text-xs text-rust-orange hover:text-text-primary transition-colors shrink-0">
          loda-lang/loda-rust -->
        </a>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════════════════
       THE DAG THROUGHLINE — Connecting all of Simon's work
       ════════════════════════════════════════════════════════════════════ -->
  <section class="border-t border-border bg-bg-secondary py-20 sm:py-28">
    <div class="max-w-5xl mx-auto px-4 sm:px-6">
      <div class="mb-12">
        <p class="font-mono text-xs text-node-blue uppercase tracking-[0.2em] mb-3">
          The Throughline // 2003 - present
        </p>
        <h2 class="text-2xl sm:text-3xl font-bold text-text-primary">
          The philosophy never changed. Only the domain did.
        </h2>
      </div>

      <!-- Timeline / DAG table -->
      <div class="space-y-0">
        <!-- Toolbox -->
        <div class="group flex items-stretch border-l-2 border-edge-green/20 hover:border-edge-green/50 transition-colors">
          <div class="pl-6 py-6 flex-1">
            <div class="flex items-center gap-3 mb-2">
              <span class="font-mono text-xs text-edge-green">2003-2007</span>
              <span class="text-text-muted font-mono text-xs">//</span>
              <span class="font-semibold text-text-primary">Toolbox</span>
            </div>
            <p class="text-sm text-text-muted leading-relaxed">
              Node-based procedural graphics generator. Connect Stripe, Noise, and Bump nodes
              into a DAG &rarr; machine generates patterns. Inspired by Farbrausch's werkzeug demoscene tool.
            </p>
            <p class="font-mono text-xs text-text-muted mt-2">
              input &rarr; <span class="text-edge-green">[nodes]</span> &rarr; procedural graphics
            </p>
          </div>
        </div>

        <!-- LODA -->
        <div class="group flex items-stretch border-l-2 border-rust-orange/20 hover:border-rust-orange/50 transition-colors">
          <div class="pl-6 py-6 flex-1">
            <div class="flex items-center gap-3 mb-2">
              <span class="font-mono text-xs text-rust-orange">2018-present</span>
              <span class="text-text-muted font-mono text-xs">//</span>
              <span class="font-semibold text-text-primary">LODA</span>
              <span class="font-mono text-xs text-text-muted">~6,000 commits</span>
            </div>
            <p class="text-sm text-text-muted leading-relaxed">
              Assembly instructions chained into register operations that compute integer sequences.
              The miner discovers novel formulas no human wrote. Simon built the Rust implementation.
            </p>
            <p class="font-mono text-xs text-text-muted mt-2">
              OEIS definition &rarr; <span class="text-rust-orange">[evolutionary search]</span> &rarr; assembly program + formula
            </p>
          </div>
        </div>

        <!-- ARC -->
        <div class="group flex items-stretch border-l-2 border-arc-cyan/20 hover:border-arc-cyan/50 transition-colors">
          <div class="pl-6 py-6 flex-1">
            <div class="flex items-center gap-3 mb-2">
              <span class="font-mono text-xs text-arc-cyan">2020-present</span>
              <span class="text-text-muted font-mono text-xs">//</span>
              <span class="font-semibold text-text-primary">ARC-Interactive</span>
              <span class="font-mono text-xs text-text-muted">725 commits</span>
            </div>
            <p class="text-sm text-text-muted leading-relaxed">
              Input grid &rarr; implicit transformation rules &rarr; output grid. The hardest
              AI benchmark, now with browser-based tooling and 120+ tasks Simon created himself.
            </p>
            <p class="font-mono text-xs text-text-muted mt-2">
              input grid &rarr; <span class="text-arc-cyan">[transformation rules]</span> &rarr; output grid
            </p>
          </div>
        </div>

        <!-- PlanExe -->
        <div class="group flex items-stretch border-l-2 border-node-blue/20 hover:border-node-blue/50 transition-colors">
          <div class="pl-6 py-6 flex-1">
            <div class="flex items-center gap-3 mb-2">
              <span class="font-mono text-xs text-node-blue">2024-present</span>
              <span class="text-text-muted font-mono text-xs">//</span>
              <span class="font-semibold text-text-primary">PlanExe</span>
              <span class="font-mono text-xs text-warn-amber">336 stars</span>
            </div>
            <p class="text-sm text-text-muted leading-relaxed">
              Task descriptions &rarr; dependency graph &rarr; structured execution plan.
              LLM orchestration with Gantt charts, risk registers, and governance structures.
            </p>
            <p class="font-mono text-xs text-text-muted mt-2">
              prompt &rarr; <span class="text-node-blue">[dependency DAG]</span> &rarr; execution plan
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════════════════
       LODA-MINE IMAGE — Full-width visual break
       Uses the generated loda-mine.png asset
       ════════════════════════════════════════════════════════════════════ -->
  <section class="relative border-t border-border overflow-hidden">
    <div class="relative max-w-6xl mx-auto">
      <img
        src="/generated/loda-mine.png"
        alt="The Formula Mine — mathematical symbols floating in a deep cave, glowing amber. Represents LODA's automated discovery of integer sequence formulas."
        class="w-full h-64 sm:h-80 lg:h-96 object-cover opacity-60"
        loading="lazy"
      />
      <!-- Overlay text -->
      <div class="absolute inset-0 flex items-center justify-center bg-bg-primary/40">
        <div class="text-center px-4">
          <p class="font-mono text-xs text-rust-orange uppercase tracking-[0.3em] mb-3">
            The Formula Mine
          </p>
          <p class="text-lg sm:text-xl text-text-primary font-light">
            Automated discovery of mathematical truth from minimal rules.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════════════════════════════════════════════════════════
       CTA — Clean, terminal-style
       ════════════════════════════════════════════════════════════════════ -->
  <section class="border-t border-border py-20">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 text-center">
      <p class="font-mono text-xs text-text-muted mb-6">
        <span class="text-edge-green">$</span> Simon Strandgaard &middot; neoneye &middot; Copenhagen
      </p>
      <h2 class="text-2xl sm:text-3xl font-bold text-text-primary mb-4">
        199 public repositories. Decades of work.
      </h2>
      <p class="text-sm text-text-muted mb-8">
        Recognized by the ARC Prize Foundation. Co-creator of LODA. Builder of tools that serious researchers depend on.
      </p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
        <a href="/simon"
           class="px-6 py-2.5 bg-bg-surface border border-node-blue/40 hover:border-node-blue text-node-blue font-mono text-sm rounded transition-colors duration-200">
          cat ./simon
        </a>
        <a href="https://github.com/neoneye" target="_blank" rel="noopener"
           class="px-6 py-2.5 bg-bg-surface border border-border hover:border-border-active text-text-muted hover:text-text-primary font-mono text-sm rounded transition-colors duration-200">
          open github.com/neoneye
        </a>
      </div>
    </div>
  </section>

</Base>
